# Docker Environment Configuration for ComfyUI on Paperspace
# Copy this file to .env and customize for your setup

# =============================================================================
# PAPERSPACE CONFIGURATION
# =============================================================================

# Paperspace FQDN (auto-detected if not set)
PAPERSPACE_FQDN=

# Paperspace Notebook Repository ID (auto-detected if not set)  
PAPERSPACE_NOTEBOOK_REPO_ID=

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker image registry (optional)
DOCKER_REGISTRY=

# Image name and tag
IMAGE_NAME=comfyui:paperspace-optimized

# Container name
CONTAINER_NAME=comfyui-paperspace

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# ComfyUI port
COMFYUI_PORT=8188

# Tensorboard port  
TENSORBOARD_PORT=6006

# Alternative web port
ALT_WEB_PORT=8080

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Maximum storage usage in GB (Paperspace Free Tier = 45GB recommended)
MAX_STORAGE_GB=45

# Enable automatic cleanup
AUTO_CLEANUP=true

# Model cache size in GB
MODEL_CACHE_SIZE=20

# Temp directory cleanup (days)
TEMP_CLEANUP_DAYS=1

# Output retention (days)
OUTPUT_RETENTION_DAYS=7

# =============================================================================
# PERFORMANCE CONFIGURATION  
# =============================================================================

# Enable low VRAM mode (for GPUs with <8GB VRAM)
LOW_VRAM_MODE=false

# Enable CPU offloading
CPU_OFFLOAD=false

# Enable model caching
ENABLE_MODEL_CACHING=true

# Async model loading
ASYNC_MODEL_LOADING=true

# =============================================================================
# GPU CONFIGURATION
# =============================================================================

# CUDA visible devices (0 = first GPU, all = all GPUs)
CUDA_VISIBLE_DEVICES=0

# NVIDIA visible devices
NVIDIA_VISIBLE_DEVICES=all

# NVIDIA driver capabilities
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Run as non-root user ID
USER_ID=1000
GROUP_ID=1000

# Enable read-only root filesystem (advanced)
READ_ONLY_ROOT=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable container log rotation
LOG_ROTATION=true

# Log file max size
LOG_MAX_SIZE=100m

# Max log files to keep
LOG_MAX_FILES=3

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Enable development mode (additional debugging)
DEV_MODE=false

# Enable hot reloading for development
HOT_RELOAD=false

# Enable profiling
ENABLE_PROFILING=false

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================

# Pre-download essential models
PREDOWNLOAD_MODELS=true

# Model storage strategy (local, network, hybrid)
MODEL_STORAGE=local

# Default model to load on startup
DEFAULT_MODEL=

# =============================================================================
# INTEGRATION CONFIGURATION
# =============================================================================

# Enable Redis caching
ENABLE_REDIS=false

# Redis host
REDIS_HOST=redis-cache

# Redis port  
REDIS_PORT=6379

# Enable Tensorboard integration
ENABLE_TENSORBOARD=true

# Tensorboard log directory
TENSORBOARD_LOG_DIR=/app/ComfyUI/logs

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Enable automatic backups
ENABLE_BACKUPS=false

# Backup frequency (daily, weekly, monthly)
BACKUP_FREQUENCY=weekly

# Backup retention (days)
BACKUP_RETENTION=30

# Backup storage location
BACKUP_LOCATION=/backups

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Enable health monitoring
ENABLE_HEALTH_MONITORING=true

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=60

# Resource monitoring
ENABLE_RESOURCE_MONITORING=true

# Memory usage threshold (%)
MEMORY_THRESHOLD=80

# Disk usage threshold (%)
DISK_THRESHOLD=85

# =============================================================================
# API CONFIGURATION
# =============================================================================

# Enable API authentication
ENABLE_API_AUTH=false

# API key (if authentication enabled)
API_KEY=

# API rate limiting
ENABLE_API_RATE_LIMIT=false

# API rate limit (requests per minute)
API_RATE_LIMIT=60

# =============================================================================
# CUSTOM NODE CONFIGURATION
# =============================================================================

# Auto-install custom nodes on startup
AUTO_INSTALL_CUSTOM_NODES=true

# Update custom nodes on startup
UPDATE_CUSTOM_NODES=false

# Custom nodes to exclude from installation
EXCLUDE_CUSTOM_NODES=

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Memory allocator (tcmalloc, jemalloc, default)
MEMORY_ALLOCATOR=tcmalloc

# Python optimization flags
PYTHONOPTIMIZE=1

# Enable multi-processing
ENABLE_MULTIPROCESSING=false

# Number of worker processes
WORKER_PROCESSES=1

# Enable SIMD optimizations  
ENABLE_SIMD=true

# Build cache directory
BUILD_CACHE_DIR=${HOME}/.docker-cache/comfyui